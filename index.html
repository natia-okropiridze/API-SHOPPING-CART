<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.17/fancybox/fancybox.min.css"/>
  <link rel="stylesheet" href="styles/style.css" />
  <link rel="shortcut icon" href="images/icons/cart.png" type="image/x-icon" />
  <style>
    .product-thumbnail {
      height: 100px;
      object-fit: cover;
      object-position: center center;
    }
    .loader {
      --bs-spinner-width: 0.75rem;
      --bs-spinner-height: 0.75rem;
    }
    .products-table {
      vertical-align: middle;
    }
    .product-image {
      height: 75px;
    }
    #cart-products-modal {
      --bs-modal-width: 900px
    }

    #dialog-box {
      position: fixed;
      right: 0;
      top: 20%;
      width: min(300px, 70vw);
    }
  </style>
  <title>ðŸ“¦ Shopping Cart</title>
</head>

<body>
  <div class="container">
    <div class="row justify-content-center my-4" data-row="pagination">
      <div class="col-lg-6">
        <nav aria-label="Page navigation">
          <ul class="pagination" id="pagination"></ul>
        </nav>
      </div>
      <div class="col-lg-6">
        <div class="btn-group float-end" role="group" aria-label="Basic" id="products-params">
        </div>
      </div>
    </div>
    <div class="row my-4" id="filtered-row">
      <div class="col-lg-6">
        <select class="form-select" id="category" aria-label="Default" onchange="filteredByCategory(this)">
        </select>
      </div>
    </div>
    <div class="row" id="products"></div>
  </div>

<!-- Product Modal -->
<div class="modal fade" id="product-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="product-modalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body"></div>
    </div>
  </div>
</div>

<!-- Product Modal -->
<div class="modal fade" id="cart-products-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="products-from-cartLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table products-table"></table>
      </div>
    </div>
  </div>
</div>

<!-- Product Modal -->
<div class="modal fade" id="authorization-registration-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="authorization-registration-modalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
      
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATES -->
<template id="registration-template" >
  <form onsubmit="registration(event)">
    <div class="mb-3">
      <input type="email" class="form-control" name="email" placeholder="Email" />
    </div>
    <div class="mb-3">
      <input type="password" class="form-control" name="password" placeholder="Password" />
    </div>
    <div class="mb-3">
      <input type="password" class="form-control" name="re_password" placeholder="Repeat password" />
    </div>
    <button type="submit" class="btn btn-primary">Registration</button>
  </form>
</template>

<template id="authorization-template">
  <form onsubmit="authorization(event)">
    <div class="mb-3">
      <input type="email" class="form-control" name="email" placeholder="Email" />
    </div>
    <div class="mb-3">
      <input type="password" class="form-control" name="password" placeholder="Password" />
    </div>
    <button type="submit" class="btn btn-primary">Authorization</button>
  </form>
</template>

<!-- Dialog Box -->

<div id="dialog-box"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.17/fancybox/fancybox.umd.js"></script>
  <script src="scripts/app.js" type="module"></script>
  <script type="module">
    import {showProduct, 
      pagination, 
      addProductToCart,
      getCartProducts, 
      deleteProduct,
      registrationOrAuthorization,
      registration,
      authorization,
      logOut,
      userMessage,
      filteredByCategory,
      incrementProduct,
      decrementProduct
    } from './scripts/functions.js'
    window.showProduct = showProduct
    window.pagination = pagination
    window.addProductToCart = addProductToCart
    window.getCartProducts = getCartProducts
    window.deleteProduct = deleteProduct
    window.registrationOrAuthorization = registrationOrAuthorization
    window.registration = registration
    window.authorization = authorization
    window.logOut = logOut
    window.userMessage = userMessage
    window.filteredByCategory = filteredByCategory
    window.incrementProduct = incrementProduct
    window.decrementProduct = decrementProduct
  </script>
</body>

</html>